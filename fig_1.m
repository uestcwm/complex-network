
% figure();
% temp_1=[0.2117,0.6590,0.8654,0.9228,0.9296,0.9311,0.9316,0.9319,0.9319,0.9319,0.9319,0.9319,0.9319,0.9319,0.9319,0.9319];
% temp_2=[0.1970,0.4107,0.6052,0.7597,0.8488,0.8942,0.9117,0.9164,0.9178,0.9181,0.9182,0.9183,0.9183,0.9183,0.9183,0.9183];
% temp_3=[0.2172,0.7272,0.8695,0.9035,0.9129,0.9152,0.9159,0.9160,0.9161,0.9161,0.9161,0.9161,0.9161,0.9161,0.9161,0.9161];
% temp_4=[0.2080,0.6340,0.8278,0.8968,0.9199,0.9256,0.9278,0.9282,0.9282,0.9282,0.9282,0.9282,0.9282,0.9282,0.9282,0.9282];
% temp_5=[0.2126,0.6765,0.8560,0.9066,0.9193,0.9250,0.9258,0.9259,0.9260,0.9261,0.9261,0.9261,0.9261,0.9261,0.9261,0.9261];
% temp_6=[0.1946,0.3481,0.4609,0.5557,0.6461,0.7336,0.7991,0.8449,0.8816,0.9025,0.9101,0.9139,0.9152,0.9157,0.9157,0.9157];
% temp_7=[0.2222,0.7439,0.8856,0.9161,0.9220,0.9240,0.9243,0.9245,0.9246,0.9247,0.9247,0.9247,0.9247,0.9247,0.9247,0.9247];
% temp_8=[0.2087,0.6533,0.8436,0.8992,0.9156,0.9197,0.9211,0.9213,0.9213,0.9213,0.9213,0.9213,0.9213,0.9213,0.9213,0.9213];
% temp_9=[0.2219,0.7582,0.8939,  0.9240,0.9386,0.9440,0.9462,0.9465,0.9465,0.9465,0.9465,0.9465,0.9465,0.9465,0.9465,0.9465];
% plot(temp_1,'ko-');hold on;plot(temp_2,'mp-');hold on;plot(temp_3,'r*-');hold on;
% plot(temp_4,'gx-');hold on;plot(temp_5,'bs-');hold on;plot(temp_6,'cd-');hold on;
% plot(temp_7,'^-','color',[1 0.8 0]);hold on;plot(temp_8,'<-','color',[0.2 0.5 1]);hold on;
% plot(temp_9,'>-','color',[1 0.38 0]);hold on;
% xlabel('infected time/t');ylabel('S(t)');
% hleg2=legend('DC','KS','Cnc','Cnc+','C(ks)','\theta','MDD','MCDE','IKS');
% set(hleg2, 'Location', 'SouthEast');
% title('Power');

% figure();
% temp_1=[0.191,0.335,0.4222,0.4689,0.493,0.505,0.5117,0.5146,0.5161,0.5169,0.5172,0.5174,0.5175,0.5176,0.5176,0.5176];
% temp_2=[0.197,0.2868,0.3546,0.3969,0.4209,0.4348,0.4426,0.4468,0.4493,0.4506,0.4515,0.4519,0.4521,0.4521,0.4521,0.4521];
% temp_3=[0.193,0.3144,0.3921,0.4353,0.4587,0.4692,0.4753,0.4776,0.4791,0.4799,0.4804,0.4805,0.4806,0.4806,0.4806,0.4806];
% temp_4=[0.192,0.3074,0.3871,0.4329,0.4587,0.4723,0.4836,0.4858,0.4868,0.4873,0.4876,0.4878,0.4878,0.488,0.488,0.488];
% temp_5=[0.195,0.3437,0.4308,0.4762,0.4996,0.5121,0.5183,0.5211,0.5226,0.5235,0.5239,0.5241,0.5241,0.5242,0.5243,0.5243];
% temp_6=[0.19,0.2963,0.3728,0.4213,0.4496,0.4661,0.4753,0.4801,0.4829,0.4846,0.4856,0.4861,0.4864,0.4864,0.4864,0.4864];
% temp_7=[0.19,0.3517,0.4364,0.4777,0.4965,0.505,0.5088,0.5105,0.5113,0.5117,0.5119,0.512,0.5121,0.5121,0.5121,0.5121];
% temp_8=[0.192,0.3375,0.4172,0.4630,0.4888,0.5024,0.5137,0.5159,0.5169,0.5177,0.5179,0.5181,0.5182,0.5183,0.5183,0.5183];
% temp_9=[0.19,0.3748,0.4648,0.5049,0.5223,0.5302,0.5338,0.5356,0.5363,0.5367,0.5368,0.5369,0.537,0.537,0.537,0.537];
% plot(temp_1,'ko-');hold on;plot(temp_2,'mp-');hold on;plot(temp_3,'r*-');hold on;
% plot(temp_4,'gx-');hold on;plot(temp_5,'bs-');hold on;plot(temp_6,'cd-');hold on;
% plot(temp_7,'^-','color',[1 0.8 0]);hold on;plot(temp_8,'<-','color',[0.2 0.5 1]);hold on;
% plot(temp_9,'>-','color',[1 0.38 0]);hold on;
% xlabel('infected time/t');ylabel('S(t)');
% hleg2=legend('DC','KS','Cnc','Cnc+','C(ks)','\theta','MDD','MCDE','IKS');
% set(hleg2, 'Location', 'SouthEast');
% title('PGP');

% figure();
% I_mean_xianshi=[0.3135,0.3841,0.3925,0.3893,0.4015,0.4121,0.4201,0.4374,0.4459,0.4522,0.4676,0.4788,0.4864,0.4996,0.5049,0.5176];
% I2_mean_xianshi=[0.3010,0.3818,0.3777,0.3851,0.3879,0.3921,0.3929,0.4039,0.4085,0.4119,0.4207,0.4261,0.4325,0.4416,0.4498,0.4523];
% I3_mean_xianshi=[0.2870,0.3813,0.3809,0.3854,0.3883,0.3884,0.3975,0.4069,0.4151,0.422,0.4309,0.4426,0.4501,0.458,0.4735,0.4807];
% I4_mean_xianshi=[0.3005,0.3765,0.3830,0.3849,0.3886,0.3934,0.3994,0.4099,0.4245,0.4255,0.4336,0.4407,0.4507,0.4715,0.4758,0.4881];
% I5_mean_xianshi=[0.3032,0.3771,0.3830,0.3825,0.3949,0.4004,0.4056,0.4179,0.4359,0.4400,0.4574,0.4716,0.4901,0.5072,0.5152,0.5242];
% I6_mean_xianshi=[0.3107,0.3819,0.3826,0.3931,0.3974,0.4042,0.4063,0.4138,0.4260,0.4405,0.4475,0.4571,0.4756,0.478,0.4835,0.4867];
% I7_mean_xianshi=[0.3361,0.3802,0.3914,0.3877,0.3942,0.3986,0.4080,0.4189,0.4299,0.4440,0.4566,0.4661,0.4747,0.4827,0.4954,0.5121];
% I8_mean_xianshi=[0.3203,0.3830,0.3893,0.3931,0.3993,0.4082,0.4142,0.4234,0.4345,0.4470,0.4575,0.4686,0.4824,0.4899,0.5004,0.5119];
% I9_mean_xianshi=[0.3392,0.3869,0.3939,0.3986,0.4064,0.4220,0.4285,0.4376,0.4478,0.4565,0.4685,0.4827,0.4971,0.509,0.5224,0.537];
% x=linspace(0.01,0.2,16);
% plot(x,I_mean_xianshi,'ko-');hold on;
% plot(x,I2_mean_xianshi,'mp-');hold on;%(round([1:step:nlen]/step)+1)
% plot(x,I3_mean_xianshi,'r*-');hold on;plot(x,I4_mean_xianshi,'gx-');hold on;
% plot(x,I5_mean_xianshi,'bs-');hold on;plot(x,I6_mean_xianshi,'cd-');hold on;
% plot(x,I7_mean_xianshi,'^-','color',[1 0.8 0]);hold on;
% plot(x,I8_mean_xianshi,'<-','color',[0.2 0.5 1]);hold on;
% plot(x,I9_mean_xianshi,'>-','color',[1 0.38 0]);hold on;
% xlabel('Proportion of initial infected nodes');ylabel('S');
% hleg2=legend('DC','KS','Cnc','Cnc+','C(ks)','\theta','MDD','MCDE','IKS');
% set(hleg2, 'Location', 'SouthEast');
% title('PGP');

[a,Du,txt_line_number] = txt(  );%email.txt转换为mat邻接矩阵
N=size(a,1);
tic
for i=1:100
% DC=Du/(N-1);
ks=mycoreness(a);
% Cnc=zeros(1,N);
% for i=1:N
%     for j=1:N
%         if a(i,j)~=0
%         Cnc(i)=Cnc(i)+ks(j);
%         end
%     end
% end 
% Cncopt=zeros(1,N);
% for i=1:N
%     for j=1:N
%         if a(i,j)~=0
%         Cncopt(i)=Cncopt(i)+Cnc(j);
%         end
%     end
% end 
% w=zeros(N,N);
% for i=1:N
%     for j=1:N
%         w(i,j)=Du(i)*Du(j);
%     end
% end
% for i=1:N
%     for j=1:N
%         if a(i,j)==0
%             w(i,j)=0;
%         end
%     end
% end
% w_mean=sum(sum(w))/(2*txt_line_number);%w_mean=(sum(sum(w))-sum(sum(tril(w))))/txt_line_number
% C_fai=zeros(1,N);
% for i=1:N
%     for j=1:N
%         if a(i,j)~=0
%             C_fai(i)=C_fai(i)+w(i,j)*Du(j)./w_mean;
%         end
%     end
%     C_fai(i)=C_fai(i)+Du(i);
% end     
% mcde=MCDE( a,Du,ks,N);
% [result_iks,index,result9,ze,e] = IKS(a,N,Du,ks); 
% [result_km,M_mdd,km,res_index,append]=mdd(a,N);
end
toc

% figure;
% y_du=[0.000699,0.001130,0.003491,0.006298,0.011803];
% y_ks=[0.227748,2.102316,10.350417,21.133258,42.038215];
% y_cnc=[0.117277,1.111310,5.459989,11.787223,21.924067];
% y_fai=[0.242463,2.304925,11.457728,22.932776,45.490294];
% y_mcde=[2.061070,20.598656,104.106584,201.605657,393.805353];
% y_iks=[0.6029,5.792056,29.627036,62.320296,115.977135];
% y_mdd=[0.922037,8.703999,43.379068,91.823765,214.054666];
% x=[100,1000,5000,10000,20000];
% plot(x,y_du,'ko-');hold on;plot(x,y_ks,'mp-');hold on;plot(x,y_cnc,'gx-');hold on;plot(x,y_fai,'bs-');hold on;
% plot(x,y_mcde,'<-','color',[0.2 0.5 1]);hold on;plot(x,y_iks,'>-','color',[1 0.38 0]);
% hold on;plot(x,y_mdd,'^-','color',[1 0.8 0]);hold on;

% %% 1DC 
% figure();%画图计算肯德尔系数都用列向量
% % subplot(1,3,1)
% coeff1 = corr(DC', spreading1' , 'type' , 'Kendall') ;
% scatter(DC',spreading1',10,'filled'); %filled表示点是实心点，缺省则为空心点
% xlabel('DC');
% ylabel('G_{i}');
% title(['\tau = ',num2str(abs(coeff1))]);
% %% 2ks
% figure();
% coeff2 = corr(ks', spreading1' , 'type' , 'Kendall');
% % subplot(1,3,2);
% scatter(ks',spreading1',10,'filled'); %filled表示点是实心点，缺省则为空心点
% xlabel('KS');
% ylabel('G_{i}');
% title(['\tau = ',num2str(abs(coeff2))]);
% %% 3Cnc
% figure();
% coeff3 = corr(Cnc', spreading1' , 'type' , 'Kendall'); 
% % subplot(1,3,3);
% scatter(Cnc',spreading1',10,'filled'); %filled表示点是实心点，缺省则为空心点
% xlabel('Cnc');
% ylabel('G_{i}');
% title(['\tau = ',num2str(abs(coeff3))]);
% %% 4Cnc+
% figure();
% % subplot(1,3,1);
% coeff4 = corr(C_fai', spreading1' , 'type' , 'Kendall'); 
% scatter(C_fai',spreading1',10,'filled'); %filled表示点是实心点，缺省则为空心点
% xlabel('Cnc+');
% ylabel('G_{i}');
% title(['\tau = ',num2str(abs(coeff4))]);
% %% 5C_fai
% figure();
% coeff5 = corr(e', spreading1' , 'type' , 'Kendall'); 
% % subplot(1,3,2);
% scatter(e',spreading1',10,'filled'); %filled表示点是实心点，缺省则为空心点
% xlabel('C(ks)');
% ylabel('G_{i}');
% title(['\tau = ',num2str(abs(coeff5))]);
% %% 6ksk
% figure();
% coeff6 = corr(ksk', spreading1' , 'type' , 'Kendall'); 
% % subplot(1,3,3);
% scatter(ksk',spreading1',10,'filled'); %filled表示点是实心点，缺省则为空心点
% xlabel('\theta');
% ylabel('G_{i}');
% title(['\tau = ',num2str(abs(coeff6))]);
% %% 7km
% figure();
% % subplot(1,3,1);
% coeff7 = corr(result_km', spreading1' , 'type' , 'Kendall'); 
% scatter(result_km',spreading1',10,'filled'); %filled表示点是实心点，缺省则为空心点
% xlabel('MDD');
% ylabel('G_{i}');
% title(['\tau = ',num2str(abs(coeff7))]);
% %% 8ksh
% figure();
% coeff8 = corr(mcde', spreading1' , 'type' , 'Kendall'); 
% % subplot(1,3,2);
% scatter(mcde',spreading1',10,'filled'); %filled表示点是实心点，缺省则为空心点
% xlabel('MCDE');
% ylabel('G_{i}');
% title(['\tau = ',num2str(abs(coeff8))]);
% %% 9index
% figure();
% coeff9 = corr(Cncopt', spreading1' , 'type' , 'Kendall'); 
% % subplot(1,3,3);
% scatter(Cncopt',spreading1',10,'filled'); %filled表示点是实心点，缺省则为空心点 result_iks
% xlabel('IKS');
% ylabel('G_{i}');
% title(['\tau = ',num2str(abs(coeff9))]);